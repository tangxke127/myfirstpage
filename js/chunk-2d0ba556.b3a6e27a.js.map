{"version":3,"sources":["webpack:///./node_modules/biyi-dic/src/pages/cscp_dic.vue","webpack:///node_modules/biyi-dic/src/pages/cscp_dic.vue","webpack:///./node_modules/biyi-dic/src/pages/cscp_dic.vue?1845","webpack:///./node_modules/biyi-dic/src/pages/cscp_dic.vue?7945"],"names":["render","_vm","this","_c","_self","staticStyle","ref","attrs","formCustom","model","value","dicType","callback","$$v","$set","expression","_l","dicList","item","key","_v","_s","labels","on","handleSearch","handleCancel","handleCreateOrEditItem","loading","columns","dataList","sortChange","selectChange","currentPageNum","dataCount","handlePageChange","changePage","staticRenderFns","name","data","deleteList","size","label","title","align","width","h","props","type","click","style","backgroundColor","height","display","verticalAlign","margin","confirm","transfer","placement","computed","activeUsers","methods","init","delete","index","Util","then","self","catch","console","list","search","argumentObj","get","params","pageNum","handleEditItem","argu","initSelect","handleEditType","mounted","component"],"mappings":"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","file":"js/chunk-2d0ba556.b3a6e27a.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Row',{},[_c('Row',{staticStyle:{\"margin\":\"2px 0 10px 0\"}},[_c('Form',{ref:\"formCustom\",attrs:{\"inline\":true,\"model\":_vm.formCustom,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"字典类型\"}},[_c('Select',{attrs:{\"filterable\":\"\"},model:{value:(_vm.formCustom.dicType),callback:function ($$v) {_vm.$set(_vm.formCustom, \"dicType\", $$v)},expression:\"formCustom.dicType\"}},_vm._l((_vm.dicList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.labels))])}),1)],1),_c('span',{staticStyle:{\"margin\":\"0 10px\"},on:{\"click\":_vm.handleSearch}},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-search\"}},[_vm._v(\"查询\")])],1),_c('Button',{attrs:{\"type\":\"default\"},on:{\"click\":_vm.handleCancel}},[_vm._v(\"重置\")]),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Button',{staticStyle:{\"margin\":\"0 20px\"},attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":_vm.handleCreateOrEditItem}},[_vm._v(\"新建\")])],1)],1)],1),_c('Table',{attrs:{\"loading\":_vm.loading,\"columns\":_vm.columns,\"data\":_vm.dataList},on:{\"on-sort-change\":_vm.sortChange,\"on-selection-change\":_vm.selectChange}}),_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"end\",\"align\":\"middle\"}},[_c('div',[_c('Page',{staticStyle:{\"padding\":\"10px 10px 0 0\"},attrs:{\"current\":_vm.currentPageNum + 1,\"total\":_vm.dataCount,\"show-elevator\":\"\",\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.handlePageChange,\"on-page-size-change\":_vm.changePage}})],1)])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Created by ctsi-biyi-generator -->\r\n\r\n<template>\r\n  <div>\r\n    <Row style=\"\">\r\n      <Row style=\"margin: 2px 0 10px 0\">\r\n      <Form\r\n        ref=\"formCustom\"\r\n        :inline=\"true\"\r\n        :model=\"formCustom\"\r\n        :label-width=\"80\"\r\n      >\r\n        <FormItem label=\"字典类型\">\r\n          <Select v-model=\"formCustom.dicType\" filterable>\r\n                <Option v-for=\"item in dicList\" :value=\"item.value\" :key=\"item.value\">{{ item.labels }}</Option>\r\n            </Select>\r\n        </FormItem>\r\n        <span @click=\"handleSearch\" style=\"margin: 0 10px\"\r\n          ><Button type=\"primary\" icon=\"ios-search\">查询</Button></span\r\n        >\r\n        <Button @click=\"handleCancel\" type=\"default\">重置</Button>\r\n        <div style=\"float: right\">\r\n          <Button\r\n            @click=\"handleCreateOrEditItem\"\r\n            type=\"primary\"\r\n            icon=\"md-add\"\r\n            style=\"margin: 0 20px\"\r\n            >新建</Button\r\n          >\r\n        </div>\r\n      </Form>\r\n    </Row>\r\n      <Table\r\n        :loading=\"loading\"\r\n        :columns=\"columns\"\r\n        :data=\"dataList\"\r\n        @on-sort-change=\"sortChange\"\r\n        @on-selection-change=\"selectChange\"\r\n      ></Table>\r\n      <Row type=\"flex\" justify=\"end\" align=\"middle\">\r\n        <div>\r\n          <Page\r\n          :current=\"currentPageNum + 1\"\r\n          :total=\"dataCount\"\r\n          @on-change=\"handlePageChange\"\r\n          @on-page-size-change=\"changePage\"\r\n          show-elevator\r\n          show-sizer\r\n          show-total\r\n          style=\"padding: 10px 10px 0 0\"\r\n        ></Page>\r\n        </div>\r\n      </Row>\r\n    </Row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Util from \"@/libs/util.js\";\r\n\r\nexport default {\r\n  name: \"searchable-table\",\r\n\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      dataCount: 0,\r\n      currentPageNum: 0,\r\n      deleteList: [],\r\n      dataList: [],\r\n      formCustom: {\r\n        size: 10,\r\n      },\r\n      dicList:[\r\n        {\r\n          value:1,\r\n          label:'是否'\r\n        },\r\n        {\r\n          value:2,\r\n          label:'选择框'\r\n        },\r\n        {\r\n          value:3,\r\n          label:'组件名'\r\n        },\r\n        {\r\n          value:4,\r\n          label:'性别'\r\n        }\r\n      ],\r\n      columns: [\r\n        {\r\n          key: \"dicType\",\r\n          title: \"字典类型\",\r\n        },\r\n        {\r\n          title:\"类型名称\",\r\n          key:'dicTypeName',\r\n          // align: \"center\",\r\n        },\r\n        {\r\n          key: \"parentIdName\",\r\n          title: \"父级类型名称\",\r\n          // align: \"center\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          align: \"center\",\r\n          width: 280,\r\n          key: \"handle\",\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"primary\",\r\n                    size: \"small\",\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.handleEditType(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"编辑类型\"\r\n              ),\r\n              h('span',{style:{\r\n                width: '1px',\r\n                backgroundColor: '#2d8cf0',\r\n                height:'15px',\r\n                display:'inline-block',\r\n                verticalAlign:'middle',\r\n                margin: '-2px 10px 0'\r\n              }}),\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"primary\",\r\n                    size: \"small\",\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.handleEditItem(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"编辑字典\"\r\n              ),\r\n              h('span',{style:{\r\n                width: '1px',\r\n                backgroundColor: '#2d8cf0',\r\n                height:'15px',\r\n                display:'inline-block',\r\n                verticalAlign:'middle',\r\n                margin: '-2px 10px 0'\r\n              }}),\r\n              h(\r\n                \"Poptip\",\r\n                {\r\n                  props: {\r\n                    confirm: true,\r\n                    title: \"您确定要删除此类型下所有字典值吗?\",\r\n                    transfer: true,\r\n                  },\r\n                  on: {\r\n                    \"on-ok\": () => {\r\n                      this.delete(params.row.dicType,params.index);\r\n                    },\r\n                  },\r\n                },\r\n                [\r\n                  h(\r\n                    \"Button\",\r\n                    {\r\n                      style: {\r\n                        margin: \"0 5px\",\r\n                      },\r\n                      props: {\r\n                        type: \"error\",\r\n                        size: \"small\",\r\n                        placement: \"top\",\r\n                      },\r\n                    },\r\n                    \"删除\"\r\n                  ),\r\n                ]\r\n              ),\r\n            ]);\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    activeUsers() {\r\n      return this.columns.filter((item) => {\r\n        return item.searchShow === true;\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.search(this.formCustom);\r\n    },\r\n    // 删除\r\n    delete(dicType,index) {\r\n      let self = this;\r\n      let page = this.currentPageNum;\r\n      Util.http\r\n        .delete(\"/api/cscpDics/DeleteType\" + \"/\" + dicType)\r\n        .then(function (response) {\r\n          self.dataList.splice(index, 1);\r\n          self.dataCount--;\r\n          if (self.dataList.length === 0 && page > 1) {\r\n            self.handlePageChange(page);\r\n          }\r\n          self.$Message.success(\"删除成功\");\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n\r\n    selectChange(list) {\r\n      this.deleteList = list;\r\n    },\r\n\r\n    search(argumentObj) {\r\n      let self = this;\r\n      Util.http\r\n        .get(\"/api/cscpDics/getCscpTypeInfo\", {\r\n          params: argumentObj,\r\n        })\r\n        .then(function (response) {\r\n          self.dataList = response.data.list;\r\n          self.dataCount = response.data.total;\r\n          self.loading = false;\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    //远程搜索\r\n    sortChange(data) {\r\n      // console.log(data);\r\n    },\r\n    handleSearch() {\r\n      //还需对formCustom进行处理\r\n      this.currentPageNum = 0;\r\n      this.init();\r\n    },\r\n    handleCancel() {\r\n      this.currentPageNum = 0;\r\n      this.formCustom.page = 0;\r\n      this.formCustom.dicType = null\r\n      this.init();\r\n    },\r\n    // 换页\r\n    handlePageChange(pageNum) {\r\n      this.currentPageNum = pageNum - 1;\r\n      this.formCustom.page = pageNum ;\r\n      this.init();\r\n    },\r\n    changePage(size) {\r\n      this.loading = true;\r\n      this.formCustom.size = size;\r\n      this.init();\r\n    },\r\n    // 新建\r\n    handleCreateOrEditItem() {\r\n      this.$router.push({\r\n        name: \"paramDicAdd\",\r\n      });\r\n    },\r\n      handleEditItem(argu) {\r\n      this.$router.push({\r\n        name: \"paramDicEdit\",\r\n        params: {\r\n          type:argu\r\n        },\r\n      });\r\n    },\r\n    // 初始化下拉框\r\n    initSelect(){\r\n      Util.http.get(\"/api/cscpDics/getType\").then(res=>{\r\n        this.dicList = res.data.map(item=>{\r\n          return {value:item.dicType,labels:item.dicTypeName}\r\n        })\r\n      })\r\n    },\r\n    // 编辑类型\r\n    handleEditType(argu){\r\n      this.$router.push({\r\n        name: \"paramDicType\",\r\n        params: {\r\n          type:argu\r\n        },\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n    this.initSelect()\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./cscp_dic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./cscp_dic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cscp_dic.vue?vue&type=template&id=663be49c&\"\nimport script from \"./cscp_dic.vue?vue&type=script&lang=js&\"\nexport * from \"./cscp_dic.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}