(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21d5306e"],{"41f3":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return t("Card",[t("p",{attrs:{slot:"title"},slot:"title"},[e._v("编辑类型")]),t("Form",{ref:"formDicType",attrs:{model:e.formDicType,rules:e.ruleValidate,"label-width":100}},[t("Row",{attrs:{gutter:16,type:"flex",justify:"space-around"}},[t("i-col",{attrs:{span:"9"}},[t("FormItem",{attrs:{label:"字典类型",prop:"dicType"}},[t("div",[t("InputNumber",{staticStyle:{width:"280px"},attrs:{disabled:"",placeholder:"请输入字典类型"},model:{value:e.formDicType.dicType,callback:function(t){e.$set(e.formDicType,"dicType",t)},expression:"formDicType.dicType"}})],1)])],1),t("i-col",{attrs:{span:"9"}},[t("FormItem",{attrs:{label:"类型名称",prop:"dicTypeName"}},[t("div",[t("Input",{staticStyle:{width:"280px"},attrs:{placeholder:"请输入类型名称"},model:{value:e.formDicType.dicTypeName,callback:function(t){e.$set(e.formDicType,"dicTypeName",t)},expression:"formDicType.dicTypeName"}})],1)])],1)],1),t("Row",{attrs:{gutter:16,type:"flex",justify:"space-around"}},[t("i-col",{attrs:{span:"9"}},[t("FormItem",{attrs:{label:"父级名称",prop:"dicParentId"}},[t("div",[t("Input",{staticStyle:{width:"280px"},attrs:{placeholder:"请选择",readonly:!0},nativeOn:{click:function(t){return e.showOrHideTree.apply(null,arguments)}},model:{value:e.showName,callback:function(t){e.showName=t},expression:"showName"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showTree,expression:"showTree"}],staticClass:"treeShow",on:{mouseover:function(t){return e.treeShowToggle(1)},mouseout:function(t){return e.treeShowToggle(2)}}},[t("Tree",{attrs:{data:e.treeData},on:{"on-select-change":e.changeCheck}})],1)],1)])],1),t("i-col",{attrs:{span:"9"}})],1),t("div",{staticStyle:{margin:"50px 0 0 45%"}},[t("Button",{staticStyle:{marginRight:"20px"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formDicType")}}},[e._v("提交")]),t("Button",{on:{click:function(t){return e.handleReset("formDicType")}}},[e._v("取消")])],1)],1)],1)},a=[],n=(r("7f7f"),r("c276")),s={name:"editType",data:function(){return{treeData:[],checkData:[],showTree:!1,show:!1,formDicType:{dicType:null,dicTypeName:null,dicParentId:null},ruleValidate:{dicType:[{type:"number",required:!0,trigger:"blur"}],dicTypeName:[{required:!0,max:50,message:"字典类型名称最多50个字符",trigger:"blur"}]}}},computed:{showName:function(){for(var e="",t=0;t<this.checkData.length;t++)e?e=e+","+this.checkData[t].title:void 0!==this.checkData[t]&&(e=this.checkData[t].title);return e}},methods:{handleReset:function(e){this.$refs[e].resetFields(),this.$router.push({name:"paramDic"})},handleSubmit:function(e){var t=this;this.formDicType.dicType==this.formDicType.dicParentId?this.$Message.error("父级不能设置为自己！"):this.$refs[e].validate((function(e){e?n["default"].http.put("/api/cscpDics/updateType",t.formDicType).then((function(){t.$Message.success("提交成功"),t.$router.push({name:"paramDic"})})):(t.$Message.error("提交失败"),t.$router.push({name:"paramDic"}))}))},showOrHideTree:function(){this.showTree=!this.showTree},treeShowToggle:function(e){this.showTree=1==e},setTreeNode:function(e,t){for(var r=0;r<e.length;r++)e[r].render=t,e[r].children&&e[r].children.length&&this.setTreeNode(e[r].children,t);return e},render:function(e,t){t.root,t.node;var r=t.data;return e("span",{style:{display:"inline-block",width:"100%"}},[e("span",[e("Icon",{props:{type:"ios-folder-outline"},style:{marginRight:"8px"}}),e("span",r.title)])])},init:function(){this.formDicType=JSON.parse(JSON.stringify(this.$route.params.type))},initTree:function(){var e=this,t=this.$route.params.type.dicParentId,r=this;t?n["default"].http.get("/api/cscpDics/getTreeExpand/".concat(t)).then((function(t){e.treeData=e.setTreeNode(t.data,r.render),e.checkData=[{title:e.$route.params.type.parentIdName}]})):n["default"].http.get("/api/cscpDics/getTree").then((function(t){e.treeData=e.setTreeNode(t.data,r.render)}))},changeCheck:function(e){this.checkData=e,1==e.length?this.formDicType.dicParentId=e[0].dicType:this.formDicType.dicParentId=null}},mounted:function(){this.initTree(),this.init()}},c=s,o=(r("d50a"),r("2877")),p=Object(o["a"])(c,i,a,!1,null,"4e049424",null);t["default"]=p.exports},d50a:function(e,t,r){"use strict";r("f513")},f513:function(e,t,r){}}]);
//# sourceMappingURL=chunk-21d5306e.9f97cfe4.js.map