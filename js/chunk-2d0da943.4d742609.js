(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da943"],{"6bcd":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[t._v("编辑字典")]),e("div",{staticStyle:{display:"flex",justifyContent:"space-between",margin:"30px 3% 0 3%"}},[e("div",[e("Form",{attrs:{inline:"","label-width":80}},[e("FormItem",{attrs:{label:"字典名称"}},[e("Input",{attrs:{placeholder:"请输入字典名称"},model:{value:t.formCustom.dicName,callback:function(e){t.$set(t.formCustom,"dicName",e)},expression:"formCustom.dicName"}})],1),e("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.handleSearch}},[t._v("查询")]),e("Button",{staticStyle:{marginLeft:"15px"},on:{click:t.handleCancel}},[t._v("重置")])],1)],1),e("div",{staticStyle:{float:"right"}},[e("Button",{staticStyle:{margin:"0 50px"},attrs:{type:"primary",icon:"md-add"},on:{click:function(e){return t.handleCreateOrEditItem()}}},[t._v("新建")])],1)]),e("Row",{staticStyle:{margin:"5px 3% 0 3%"}},[e("Table",{attrs:{columns:t.column,data:t.dicData}}),e("Row",{attrs:{type:"flex",justify:"end",align:"middle"}},[e("div",[e("Page",{staticStyle:{padding:"10px 10px 0 0"},attrs:{current:t.currentPageNum+1,total:t.dataCount,"show-elevator":"","show-sizer":"","show-total":""},on:{"on-change":t.handlePageChange,"on-page-size-change":t.changePage}})],1)])],1),e("div",{staticStyle:{margin:"50px 0 0 45%"}},[e("Button",{attrs:{type:"primary"},on:{click:t.handleReset}},[t._v("返回")])],1),e("Modal",{attrs:{width:"30",title:t.title},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("Form",{ref:"formDic",attrs:{model:t.formDic,rules:t.formDicRule,"label-width":100}},["edit"==this.formStatus?e("FormItem",{attrs:{label:"字典值",prop:"dicValue"}},[e("InputNumber",{staticStyle:{width:"85%"},attrs:{disabled:"",placeholder:"请输入字典value"},model:{value:t.formDic.dicValue,callback:function(e){t.$set(t.formDic,"dicValue",e)},expression:"formDic.dicValue"}})],1):t._e(),e("FormItem",{attrs:{label:"字典名称",prop:"dicDisplay"}},[e("Input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入字典中文名称"},model:{value:t.formDic.dicDisplay,callback:function(e){t.$set(t.formDic,"dicDisplay",e)},expression:"formDic.dicDisplay"}})],1),e("FormItem",{attrs:{label:"排序",prop:"dicOrder"}},[e("InputNumber",{staticStyle:{width:"85%"},attrs:{placeholder:"搜索字典排序"},model:{value:t.formDic.dicOrder,callback:function(e){t.$set(t.formDic,"dicOrder",e)},expression:"formDic.dicOrder"}})],1),e("FormItem",{attrs:{label:"图标",prop:"dicIcon"}},[e("Input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入icon"},model:{value:t.formDic.dicIcon,callback:function(e){t.$set(t.formDic,"dicIcon",e)},expression:"formDic.dicIcon"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"primary"},on:{click:function(e){return t.dicSubmit("formDic")}}},[t._v("提交")]),e("Button",{on:{click:function(e){return t.dicCancel("formDic")}}},[t._v("取消")])],1)],1)],1)},c=[],r=(i("7f7f"),i("386d"),i("c276")),o={name:"editDic",data:function(){var t=this;return{dataCount:0,currentPageNum:0,id:null,show:!1,formStatus:"add",dicData:[],formDicRule:{dicValue:[{type:"number",min:1,trigger:"blur"}],dicIcon:[{type:"string",max:50,message:"icon最多50个字符",trigger:"blur"}],dicDisplay:[{required:!0,max:50,message:"字典名称最多50个字符",trigger:"blur"}]},formCustom:{dicName:null,size:10,page:1},formDic:{dicValue:null,dicDisplay:null,dicOrder:null,dicIcon:null},column:[{title:"字典值",key:"dicValue"},{key:"dicDisplay",title:"字典名称"},{key:"dicOrder",title:"排序"},{key:"dicIcon",title:"图标"},{title:"操作",width:155,render:function(e,i){return e("div",[e("Button",{props:{type:"primary",size:"small"},on:{click:function(){t.handleCreateOrEditItem(i.row,i.index)}}},"编辑"),e("span",{style:{width:"1px",backgroundColor:"#2d8cf0",height:"15px",display:"inline-block",verticalAlign:"middle",margin:"-2px 10px 0"}}),e("Poptip",{props:{confirm:!0,title:"您确定要删除这条数据吗?",transfer:!0},on:{"on-ok":function(){t.deleteDic(i.index,i.row.id)}}},[e("Button",{style:{margin:"0 5px"},props:{type:"error",size:"small",placement:"top"}},"删除")])])}}]}},computed:{title:function(){return"add"==this.formStatus?"新建":"编辑"}},methods:{search:function(){var t=this;r["default"].http.get("/api/cscpDics/getDicByType",{params:t.formCustom}).then((function(e){t.dicData=e.data.list,t.dataCount=e.data.total,t.loading=!1})).catch((function(t){console.log(t)}))},handleReset:function(){this.$router.push({name:"paramDic"})},handleSearch:function(){this.search()},dicSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var i=Object.assign({},e.formDic,e.$route.params.type);"add"==e.formStatus?r["default"].http.post("/api/cscpDics/addDics",i).then((function(){e.$Message.info("添加成功"),e.search()})):r["default"].http.put("/api/cscpDics/updateDic",i).then((function(){e.search()}))}else e.$Message.error("提交失败")})),this.$refs[t].resetFields(),this.show=!1},pageNum:function(t){this.loading=!0,this.formCustom.size=t},handleCancel:function(){this.currentPageNum=0,this.formCustom.page=0,this.formCustom.dicName=null,this.search()},changePage:function(t){this.loading=!0,this.formCustom.size=t,this.search()},handlePageChange:function(t){this.currentPageNum=t-1,this.formCustom.page=t,this.search()},dicCancel:function(t){this.$refs[t].resetFields(),this.show=!1},deleteDic:function(t,e){var i=this;r["default"].http.delete("/api/cscpDics/".concat(e)).then((function(t){i.search(),i.$Message.info("删除成功")}))},handleCreateOrEditItem:function(t,e){t?(this.formDic=JSON.parse(JSON.stringify(t)),this.formStatus="edit",this.index=e):(this.formDic={dicValue:null,dicDisplay:null,dicOrder:null,dicIcon:null},this.formStatus="add"),this.show=!0}},mounted:function(){this.formCustom.dicType=this.$route.params.type.dicType,this.search()}},n=o,s=i("2877"),l=Object(s["a"])(n,a,c,!1,null,"2a2282f0",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0da943.4d742609.js.map